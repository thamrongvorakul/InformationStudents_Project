<!DOCTYPE html>
<html ng-app = 'lecturerdashboard'>

<head>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InformationStudents | Lecturer Dashboard</title>
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="font-awesome/css/font-awesome.css" rel="stylesheet">
    <link href="css/plugins/slick/slick.css" rel="stylesheet">
    <link href="css/plugins/slick/slick-theme.css" rel="stylesheet">
    <link href="css/animate.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <script src="http://code.jquery.com/jquery-1.8.3.min.js"></script>
    <script src="js/jquery-2.1.1.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.9/angular.min.js"></script>
    <script src="/dist/ng-file-upload-shim.min.js"></script>
    <script src="/dist/ng-file-upload.min.js"></script>
    <script src="/dist/angular-local-storage.min.js"></script>
    <script src="/dist/angular-cookies.js"></script>
    <script src="/dist/angular-momentjs.js"></script>
    <script src="/dist/angular-momentjs.min.js"></script>
    <script src="/dist/text/moment.min.js"></script>
    <script src="/dist/angular-sanitize.js"></script>
    <script src="/dist/angular-cookies.min.js"></script>
    <script src= "dist/angular-slick.js"></script>
    <script src="/dist/text/angular-file-upload.min.js"></script>
    <script type="text/javascript" src="/angular_script/lecturer_dashboard.js"></script>

</head>

<body>

    <div id="wrapper" ng-controller = 'lecturerdashboardController'>

      <nav class="navbar-default navbar-static-side" role="navigation">
          <div class="sidebar-collapse">
              <ul class="nav metismenu" id="side-menu"><!แถบเมนูข้าง>
                  <li class="nav-header">
                      <div class="dropdown profile-element"> <span>
                              <img alt="image" class="img-circle" src="{{path_file_pic_icon}}" style="width:48px; heigth:48px" />
                               </span>
                              <span class="clear"> <span class="block m-t-xs"> <strong class="font-bold">{{Fullname_User}}</strong>

                      </div>
                      <div class="logo-element">
                          CS
                      </div>
                  </li>
                  <li>
                      <a href="/"><i class="fa fa-th-large"></i> <span class="nav-label">หน้าแรก</span></a>
                  </li>
                  <li>
                      <a href="/lecturer_detail"><i class="fa fa-th-large"></i> <span class="nav-label ">ข้อมูลเบื้องต้น</span></a>
                  </li>
                  <li>
                      <a href="/change_password_lecturer"><i class="fa fa-th-large"></i> <span class="nav-label">เปลี่ยนรหัสผ่าน</span></a>
                  </li>
                  <li>
                      <a href="/change_profile_lecturer"><i class="fa fa-th-large"></i> <span class="nav-label">แก้ไขข้อมูลส่วนตัว</span></a>
                  </li>
                  <li>
                      <a href="#"><i class="fa fa-th-large"></i> <span class="nav-label">จัดการข้อมูลการสอน</span> <span class="fa arrow"></span></a>
                      <ul class="nav nav-second-level collapse">
                        <li><a href="/lecturer_add_sub2">เพิ่มรายวิชา</a></li>
                        <li><a href="/lecturer_mng_sub">จัดการรายวิชาที่สอน</a></li>
                      </ul>
                  </li>

                  <li>
                      <a href="/logout"><i class="fa fa-th-large"></i> <span class="nav-label">ออกจากระบบ</span></a>
                  </li>

              </ul>

          </div>
      </nav>

        <div id="page-wrapper" class="gray-bg">
        <div class="row border-bottom">
        <nav class="navbar navbar-static-top  " role="navigation" style="margin-bottom: 0">
        </nav>
        </div>
            <div class="row wrapper border-bottom white-bg page-heading">
                <div class="col-sm-4">
                    <h2>Lecturer Dashboard</h2>
                    <ol class="breadcrumb">
                        <li>
                            <a href="/">Home</a>
                        </li>
                        <li class="active">
                            <strong>ข้อมูลเบื้องต้น</strong>
                        </li>
                    </ol>
                </div>
            </div>
        <div class="row">

          <div class = "col-lg-12">
            <div class = "col-lg-1"></div>

            <div class="col-lg-10">
              <div class="col-lg-12">
                <div class="ibox">
                    <div class="ibox-content widget style1 lazur-bg">
                      <h2 align= "center"> Lecturer Dashboard </h2>
                    </div>
                  </div>
              </div>

                <div class="wrapper wrapper-content animated fadeInUp">
                    <div class="ibox">
                        <div class="ibox-content">
                            <div class="row">
                                <div class="col-lg-12">
                                    <div class="m-b-md">
                                        <div class="profile-image">
                                            <img src="{{path_file_pic_icon}}" class="img-circle circle-border m-b-md" alt="profile">
                                        </div>
                                        <h2>Contract with : {{Lec_Name_from_search}}</h2>
                                    </div>
                                    <dl class="dl-horizontal">
                                        อัพเดทสถานะอยู่ห้องพัก หรือไม่ : &nbsp; <button ng-click = "status_room_click_active()"class="btn btn-primary">อยู่</button>
                                        <button ng-click = "status_room_click_not_active()" class="btn btn-danger">ไม่อยู่ </button>
                                    </dl>
                                </div>
                            </div>
                            <div class="row">
                                <div class="col-lg-7">
                                    <dl class="dl-horizontal">
                                        <dt>สถานะอยู่ห้องพัก : </dt>  <dd class="text-{{class_status}}"> {{status_room_active}}</dd>
                                        <dt>ตำแหน่ง : </dt> <dd>{{Lec_position_from_search}}</dd>
                                        <dt>วิชาที่ดูแล :</dt> <dd> {{Lec_subject_holding}} วิชา</dd>
                                        <dt>ห้องพัก :</dt> <dd><a href="#" class="text-navy">{{Lec_room_from_search}}</a> </dd>
                                        <dt>ติดต่อ :</dt> <dd> 	E-mail : {{Lec_email_contact_from_search}} , Tel-No : {{Lec_tel_no_contact_from_search}} </dd>
                                    </dl>
                                </div>
                                <div class="col-lg-5" id="cluster_info">
                                    <dl class="dl-horizontal" >


                                    </dl>
                                </div>
                            </div><br><br>

                  <div class="row">
                  <div class="col-lg-10 col-lg-offset-1">


                      <h3 class="text-center m widget style1 lazur-bg">
                          รายวิชาที่ดูแล
                      </h3><br>

                  <slick init-onload="false" slick-apply='slickApply' data="dataLoaded" slides-to-show="3" dots="true">

                   <div ng-repeat="item in subject_arr">
                     <div class="ibox-content"   >
                       <h2>{{item.data._source.Subject_Name}}</h2>
                       <p> <strong>รหัสวิชา : </strong> {{item.data._source.Subject_Id}} </p>
                       <p><strong>เทอม : </strong> {{item.data._source.Term}}/{{item.data._type}}</p>
                       <p><strong> สร้างเมื่อ : </strong> {{item.data._source.Date_Upload}}</p>
                       <p><strong> คำอธิบาย : </strong> {{item.data._source.Description}} </p>
                       <p><strong> โดย : </strong> {{item.data._source.Lec_Name}}</p>
                     </div>
                   </div>
                 </slick>

                  </div>
                </div><br><br>
                  <h3 class=" text-center m widget style1 lazur-bg">
                      ข้อความจากนักศึกษา
                  </h3><br>
                            <div class="row m-t-sm">
                                <div class="col-lg-12">
                                <div class="panel blank-panel">
                                <div class="panel-heading">
                                    <div class="panel-options">
                                        <ul class="nav nav-tabs">
                                            <li class="active"><a href="#tab-1" data-toggle="tab">Mails (ยังไม่ได้อ่าน) <span class="badge badge-danger">{{count_no_read}}</span></a></li>
                                            <li class=""><a href="#tab-2" data-toggle="tab">Mails (อ่านแล้ว) <span class="badge badge-success">{{count_read}}</span></a></li>
                                        </ul>
                                    </div>
                                </div>

                                <div class="panel-body">

                                <div class="tab-content">
            <div class="tab-pane active" id="tab-1">
          <div class="">
          <div class="mail-box-header">

              <form method="get" action="index.html" class="pull-right mail-search">
                  <div class="input-group">
                      <input type="search" ng-model="search" class="form-control input-sm" name="search" placeholder="Search email">
                      <div class="input-group-btn">
                          <button type="submit" class="btn btn-sm btn-primary">
                              Search
                          </button>
                      </div>
                  </div>
              </form>
              <h2>
                  Inbox ({{count_no_read}})
              </h2>
              <div class="mail-tools tooltip-demo m-t-md">

                  <button class="btn btn-white btn-sm" data-toggle="tooltip" data-placement="left" title="Refresh inbox"><i class="fa fa-refresh"></i> Refresh</button>


              </div>
          </div>
              <div class="mail-box">

              <table class="table table-hover table-mail">
                <thead>
                  <tr>
                    <th> # </th>
                    <th> ผู้ส่ง </th>
                    <th> หัวข้อ </th>
                    <th> เวลา </th>
                    <th></th>
                  </tr>
                </thead>
              <tbody >

              <a><tr class="unread"  ng-repeat = "item in mailbox_arr_no_read | orderBy : 'data._source.Date':true | filter:search "></a>

                  <td >
                    {{$index + 1}}
                  </td>
                  <td class="mail-ontact"><a ng-click="show_mailbox_click(item.data._id)">{{item.data._source.Std_Name}}</a></td>
                  <td class="mail-subject"><a  ng-click="show_mailbox_click(item.data._id)">{{item.data._source.Subject}}</a></td>
                  <td >{{item.data._source.Date}}</td>
                  <td><button class="btn btn-white btn-sm pull-right"  data-toggle="tooltip" data-placement="top" title="Move to trash" ng-click = "remove_mail_click(item.data._id)"><i class="fa fa-trash-o"></i> </button></td>

              </tr>

              </tbody>
              </table>


              </div>
          </div>

                                </div>
                                <div class="tab-pane" id="tab-2">
                                  <h2>
                                      Inbox ({{count_read}})
                                  </h2>
                                    <table class="table table-striped">
                                        <thead>
                                        <tr>
                                            <th>#</th>
                                            <th> ผู้ส่ง </th>
                                            <th> หัวข้อ </th>
                                            <th> เวลา </th>
                                            <th></th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr  class = "unread" ng-repeat = "item in mailbox_arr_read | orderBy : 'data._source.Date':true">
                                            <td>
                                                <span class="label label-primary"><i class="fa fa-check"></i> {{$index+1}}</span>
                                            </td>
                                            <td class="mail-subject">
                                               <a  ng-click = "go_to_show_mailbox_view(item.data._source.Subject , item.data._id)">{{item.data._source.Std_Name}}</a>
                                            </td>
                                            <td>
                                               <a ng-click = "go_to_show_mailbox_view(item.data._source.Subject, item.data._id)">{{item.data._source.Subject}}</a>
                                            </td>
                                            <td>
                                                <a ng-click = "go_to_show_mailbox_view(item.data._source.Subject, item.data._id)">{{item.data._source.Date}}</a>
                                            </td>
                                            <td><button class="btn btn-white btn-sm pull-right"  data-toggle="tooltip" data-placement="top" title="Move to trash" ng-click = "remove_mail_click(item.data._id)"><i class="fa fa-trash-o"></i> </button></td>


                                        </tr>

                                        </tbody>
                                    </table>

                                </div>
                                </div>

                                </div>

                                </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
          </div>
        </div>


        </div>
        </div>


    <script src="js/plugins/metisMenu/jquery.metisMenu.js"></script>
    <script src="js/plugins/slimscroll/jquery.slimscroll.min.js"></script>

    <!-- Custom and plugin javascript -->
    <script src="js/inspinia.js"></script>
    <script src="js/plugins/pace/pace.min.js"></script>
    <script src="js/plugins/slick/slick.min.js"></script>

    <style>
          .slick_demo_2 .ibox-content {
              margin: 0 10px;
          }
      </style>
      <script>
              $(document).ready(function(){


                  $('.slick_demo_1').slick({
                      dots: true
                  });

                  $('.slick_demo_2').slick({
                      infinite: true,
                      slidesToShow: 3,
                      slidesToScroll: 1,
                      centerMode: true,
                      responsive: [
                          {
                              breakpoint: 1024,
                              settings: {
                                  slidesToShow: 3,
                                  slidesToScroll: 3,
                                  infinite: true,
                                  dots: true
                              }
                          },
                          {
                              breakpoint: 600,
                              settings: {
                                  slidesToShow: 2,
                                  slidesToScroll: 2
                              }
                          },
                          {
                              breakpoint: 480,
                              settings: {
                                  slidesToShow: 1,
                                  slidesToScroll: 1
                              }
                          }
                      ]
                  });

                  $('.slick_demo_3').slick({
                      infinite: true,
                      speed: 500,
                      fade: true,
                      cssEase: 'linear',
                      adaptiveHeight: true
                  });
              });

          </script>


</body>

</html>
